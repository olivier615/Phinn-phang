{"version":3,"file":"js/290.6737b2bc.js","mappings":"iMACOA,MAAM,mB,GACJA,MAAM,sD,GACJA,MAAM,wB,GACTC,EAAAA,EAAAA,GAA0D,MAAtDD,MAAM,wCAAuC,QAAI,G,GAClDA,MAAM,8B,GACTC,EAAAA,EAAAA,GAA+D,MAA3DD,MAAM,6CAA4C,QAAI,G,GACjDA,MAAM,S,GACXC,EAAAA,EAAAA,GAMQ,SANDD,MAAM,kBAAgB,EAC3BC,EAAAA,EAAAA,GAIK,YAHHA,EAAAA,EAAAA,GAAW,UAAP,OACJA,EAAAA,EAAAA,GAAW,UAAP,OACJA,EAAAA,EAAAA,GAAW,UAAP,UAJR,G,GAOOD,MAAM,kB,GAQFA,MAAM,U,GACNA,MAAM,Y,GAMVA,MAAM,kB,GAETC,EAAAA,EAAAA,GAA0C,MAAtCC,QAAQ,IAAIF,MAAM,YAAW,QAAI,G,GACjCA,MAAM,Y,GAKfA,MAAM,wB,GACTC,EAAAA,EAAAA,GAA+D,MAA3DD,MAAM,6CAA4C,QAAI,G,GACrDA,MAAM,8C,GAKPC,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,wBAAwBG,IAAI,cAAa,WAEtD,G,GAMAF,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,wBAAwBG,IAAI,YAAW,UAEpD,G,GAMAF,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,wBAAwBG,IAAI,kBAAiB,UAE1D,G,wBAKkCH,MAAM,wCAAwCI,KAAK,U,8FAnE/FC,EAAAA,EAAAA,IA0EM,MA1EN,EA0EM,EAzEJJ,EAAAA,EAAAA,GAwEM,MAxEN,EAwEM,EAvEJA,EAAAA,EAAAA,GAkCQ,MAlCR,EAkCQ,CAjCNK,GACAL,EAAAA,EAAAA,GAAwD,IAAxD,GAAwDM,EAAAA,EAAAA,IAAfC,EAAAA,MAAMC,IAAE,GACjDC,GACET,EAAAA,EAAAA,GA6BQ,QA7BR,EA6BQ,CA5BNU,GAOAV,EAAAA,EAAAA,GAcQ,QAdR,EAcQ,gBAbNI,EAAAA,EAAAA,IAYKO,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAZcL,EAAAA,MAAMM,UAAdC,K,WAAXV,EAAAA,EAAAA,IAYK,MAZ+BW,IAAKD,GAAI,EAC3Cd,EAAAA,EAAAA,GAIK,YAHHgB,EAAAA,EAAAA,IAEcC,EAAA,CAFAC,GAAE,YAAcJ,EAAKK,QAAQX,KAAMT,MAAM,QAAvD,C,kBACE,IAAwB,mBAArBe,EAAKK,QAAQC,OAAK,M,KADvB,gBAIFpB,EAAAA,EAAAA,GAIK,YAHHA,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJA,EAAAA,EAAAA,GAA6D,IAA7D,GAA6DM,EAAAA,EAAAA,IAAtCQ,EAAKO,MAAGf,EAAAA,EAAAA,IAAMQ,EAAKK,QAAQG,MAAI,QAG1DtB,EAAAA,EAAAA,GAAyB,WAAAM,EAAAA,EAAAA,IAAlBQ,EAAKS,OAAK,QAXnB,SAcFvB,EAAAA,EAAAA,GAKQ,QALR,EAKQ,EAJNA,EAAAA,EAAAA,GAGK,WAFHwB,GACAxB,EAAAA,EAAAA,GAA2C,KAA3C,GAA2CM,EAAAA,EAAAA,IAAnBC,EAAAA,MAAMgB,OAAK,YAK7CvB,EAAAA,EAAAA,GAmCM,MAnCN,EAmCM,CAlCJyB,GACAzB,EAAAA,EAAAA,GAgCM,MAhCN,EAgCM,EA/BJA,EAAAA,EAAAA,GAOM,OAPDD,OAAK,SAAC,+CAA8C,WAC7B,UAAPQ,EAAAA,YADrB,WAEEP,EAAAA,EAAAA,GAC0E,S,qCAD1DO,EAAAA,QAAOmB,GAAEC,MAAM,QAC/B5B,MAAM,wBAAwB6B,KAAK,QAAQC,KAAK,UAAUrB,GAAG,cAD7D,iBAAgBD,EAAAA,WAEhBuB,GAJF,IAQA9B,EAAAA,EAAAA,GAOM,OAPDD,OAAK,SAAC,+CAA8C,WAC7B,SAAPQ,EAAAA,YADrB,WAEEP,EAAAA,EAAAA,GACwE,S,qCADxDO,EAAAA,QAAOmB,GAAEC,MAAM,OAC/B5B,MAAM,wBAAwB6B,KAAK,QAAQC,KAAK,UAAUrB,GAAG,YAD7D,iBAAgBD,EAAAA,WAEhBwB,GAJF,IAQA/B,EAAAA,EAAAA,GAOM,OAPDD,OAAK,SAAC,+CAA8C,WAC7B,SAAPQ,EAAAA,YADrB,WAEEP,EAAAA,EAAAA,GAC8E,S,qCAD9DO,EAAAA,QAAOmB,GAAEC,MAAM,OAC/B5B,MAAM,wBAAwB6B,KAAK,QAAQC,KAAK,UAAUrB,GAAG,kBAD7D,iBAAgBD,EAAAA,WAEhByB,GAJF,IAQAhC,EAAAA,EAAAA,GAMW,UANHD,MAAM,uBAAuB6B,KAAK,SACvCK,SAAiB,KAAP1B,EAAAA,UAA2B,IAATA,EAAAA,UAC5B2B,QAAK,oBAAEC,EAAAA,UAAAA,EAAAA,YAAAA,KAFV,EAGyB,IAAT5B,EAAAA,YAAS,WAArBH,EAAAA,EAAAA,IAAmG,OAAnG,oBACYG,EAAAA,UAAAA,EAAAA,EAAAA,OAAZH,EAAAA,EAAAA,IAAgC,OAAAgC,EAAX,UAArB,eACa7B,EAAAA,SAAb,iBAAaA,EAAAA,EAAAA,OAAbH,EAAAA,EAAAA,IAAoC,OAAAiC,EAAd,aAL1B,aAcV,OACEC,OACE,MAAO,CACLC,OAAQ,GACRC,MAAO,GACPC,QAAS,GACTC,WAAW,IAGfC,QAAS,CACPC,WACEC,KAAKH,WAAY,EACjB,MAAM,GAAElC,GAAOqC,KAAKC,OAAOC,OAC3BC,eAAeC,QAAQ,UAAWzC,GAClCqC,KAAKK,MAAMC,IAAK,+DACbC,MAAKC,IACJR,KAAKN,OAASc,EAAIf,KAAKC,OACvBM,KAAKL,MAAQK,KAAKN,OAAOe,QAAOxC,GAAQA,EAAKN,KAAOA,IACpDqC,KAAKL,MAAQK,KAAKL,MAAM,GACxBK,KAAKH,WAAY,KAElBa,OAAMC,IACLC,MAAMD,GACNX,KAAKH,WAAY,MAGvBgB,WACEb,KAAKH,WAAY,EACjB,MAAM,GAAElC,GAAOqC,KAAKC,OAAOC,OAC3BF,KAAKK,MAAMS,KAAM,4DAAiEnD,KAC/E4C,MAAKC,IACJR,KAAKH,WAAY,EACjBG,KAAKe,QAAQC,KAAK,eAEnBN,OAAMC,IACLC,MAAMD,GACNX,KAAKH,WAAY,OAIzBoB,UACEC,OAAOC,OAAO,EAAG,GACjBnB,KAAKD,a,UCpHT,MAAMqB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://week8/./src/views/PaymentView.vue","webpack://week8/./src/views/PaymentView.vue?ccb6"],"sourcesContent":["<template>\r\n  <div class=\"container mt-80\">\r\n    <div class=\"row justify-content-center flex-md-row flex-column\">\r\n      <div class=\"col-md-5 col-12 mt-5\">\r\n        <h4 class=\"text-center text-secondary fw-bolder\">訂單編號</h4>\r\n        <p class=\"text-center text-secondary\">{{ order.id }}</p>\r\n        <h4 class=\"text-center mt-4 text-secondary fw-bolder\">訂單內容</h4>\r\n          <table class=\"table\">\r\n            <thead class=\"text-secondary\">\r\n              <tr>\r\n                <th>品名</th>\r\n                <th>數量</th>\r\n                <th>售價</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"text-secondary\">\r\n              <tr v-for=\"item in order.products\" :key=\"item\">\r\n                <td>\r\n                  <router-link :to=\"`/product/${item.product.id}`\" class=\"mb-0\">\r\n                    {{ item.product.title }}\r\n                  </router-link>\r\n                </td>\r\n                <td>\r\n                  <div class=\"d-flex\">\r\n                    <p class=\"pt-1 m-0\">{{ item.qty }}{{ item.product.unit }}</p>\r\n                  </div>\r\n                </td>\r\n                <td>{{ item.total }}</td>\r\n              </tr>\r\n            </tbody>\r\n            <tfoot class=\"text-secondary\">\r\n              <tr>\r\n                <td colspan=\"2\" class=\"text-end\">訂單金額</td>\r\n                <td class=\"text-end\">{{ order.total }}</td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n      <div class=\"col-md-4 col-12 mt-5\">\r\n        <h4 class=\"text-center text-secondary fw-bolder mb-4\">支付方式</h4>\r\n        <div class=\"d-flex flex-column px-lg-6 px-md-4 px-sm-6\">\r\n          <div class=\"form-check border-secondary border mb-2 py-2\"\r\n          :class=\"{ 'bg-info': payment === '信用卡付款'}\">\r\n            <input v-model=\"payment\" value=\"信用卡付款\"\r\n            class=\"form-check-input ms-2\" type=\"radio\" name=\"payment\" id=\"creditCard\">\r\n            <label class=\"form-check-label ms-3\" for=\"creditCard\">\r\n              信用卡付款\r\n            </label>\r\n          </div>\r\n          <div class=\"form-check border-secondary border mb-2 py-2\"\r\n          :class=\"{ 'bg-info': payment === '銀行轉帳'}\">\r\n            <input v-model=\"payment\" value=\"銀行轉帳\"\r\n            class=\"form-check-input ms-2\" type=\"radio\" name=\"payment\" id=\"transfer\">\r\n            <label class=\"form-check-label ms-3\" for=\"transfer\">\r\n              銀行轉帳\r\n            </label>\r\n          </div>\r\n          <div class=\"form-check border-secondary border mb-2 py-2\"\r\n          :class=\"{ 'bg-info': payment === '貨到付款' }\">\r\n            <input v-model=\"payment\" value=\"貨到付款\"\r\n            class=\"form-check-input ms-2\" type=\"radio\" name=\"payment\" id=\"cashOnDelivery\">\r\n            <label class=\"form-check-label ms-3\" for=\"cashOnDelivery\">\r\n              貨到付款\r\n            </label>\r\n          </div>\r\n          <button class=\"btn btn-primary mt-3\" type=\"button\"\r\n            :disabled=\"payment === '' || isLoading === true\"\r\n            @click=\"orderPay\">\r\n              <span v-if=\"isLoading === true\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\r\n              <span v-if=\"payment\">確定支付</span>\r\n              <span v-if=\"!payment\">請選擇支付方式</span>\r\n            </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      order: {},\r\n      payment: '',\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      this.isLoading = true\r\n      const { id } = this.$route.params\r\n      sessionStorage.setItem('orderId', id)\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/orders`)\r\n        .then(res => {\r\n          this.orders = res.data.orders\r\n          this.order = this.orders.filter(item => item.id === id)\r\n          this.order = this.order[0]\r\n          this.isLoading = false\r\n        })\r\n        .catch(err => {\r\n          alert(err)\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    orderPay () {\r\n      this.isLoading = true\r\n      const { id } = this.$route.params\r\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${id}`)\r\n        .then(res => {\r\n          this.isLoading = false\r\n          this.$router.push('/success')\r\n        })\r\n        .catch(err => {\r\n          alert(err)\r\n          this.isLoading = false\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    window.scroll(0, 0)\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PaymentView.vue?vue&type=template&id=b79a037a\"\nimport script from \"./PaymentView.vue?vue&type=script&lang=js\"\nexport * from \"./PaymentView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue-week8\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","colspan","for","role","_createElementBlock","_hoisted_4","_toDisplayString","$data","id","_hoisted_6","_hoisted_8","_Fragment","_renderList","products","item","key","_createVNode","_component_router_link","to","product","title","qty","unit","total","_hoisted_13","_hoisted_16","$event","value","type","name","_hoisted_18","_hoisted_19","_hoisted_20","disabled","onClick","$options","_hoisted_23","_hoisted_24","data","orders","order","payment","isLoading","methods","getOrder","this","$route","params","sessionStorage","setItem","$http","get","then","res","filter","catch","err","alert","orderPay","post","$router","push","mounted","window","scroll","__exports__","render"],"sourceRoot":""}