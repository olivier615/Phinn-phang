{"version":3,"file":"js/192.e3984350.js","mappings":"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","sources":["webpack://week8/./src/views/OrderView.vue","webpack://week8/./src/components/CartList.vue","webpack://week8/./src/components/CartList.vue?6c3c","webpack://week8/./src/views/OrderView.vue?77c4"],"sourcesContent":["<template>\r\n  <div class=\"home container mt-80\">\r\n    <div class=\"row justify-content-center mt-4 flex-md-row flex-column\">\r\n      <div class=\"col-md-5 col-12 mt-5\">\r\n        <CartList :new-final-total=\"newFinalTotal\"></CartList>\r\n        <h4 class=\"text-center mt-5 text-secondary fw-bolder mb-4\">使用優惠券</h4>\r\n        <div class=\"input-group my-3\">\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠券代碼\"\r\n          aria-label=\"couponCode\" aria-describedby=\"couponCode\"\r\n          v-model=\"couponCode\">\r\n          <button class=\"btn btn-outline-primary\" type=\"button\" id=\"couponCode\"\r\n          @click=\"submitCouponCode\">\r\n            <div v-if=\"isLoading === true\">\r\n              <span class=\"spinner-border spinner-border-sm fs-5 me-2\" role=\"status\"></span>\r\n              <span>請稍後...</span>\r\n            </div>\r\n            <span v-else>使用優惠券</span>\r\n          </button>\r\n        </div>\r\n        <div v-if=\"couponMassage !== ''\" class=\"alert alert-primary\" role=\"alert\">\r\n          {{ couponMassage }}\r\n        </div>\r\n      </div>\r\n        <div class=\"col-md-4 col-12 mt-5\">\r\n          <h4 class=\"text-center mb-4 text-secondary fw-bolder\">聯絡資訊</h4>\r\n          <p class=\"text-secondary\"><small>標註</small><span class=\"text-danger\"> * </span><small>為必須填寫</small></p>\r\n        <FormTemp v-slot=\"{ errors, validate }\" v-on:submit=\"onSubmit\" class=\"text-secondary\">\r\n          <!-- {{ errors }} {{ values }} -->\r\n          <div class=\"mb-3\">\r\n            <label for=\"email\" class=\"form-label\">Email\r\n              <span class=\"text-danger\">*</span>\r\n            </label>\r\n            <FieldTemp\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              :class=\"{ 'is-invalid': errors['email'] }\"\r\n              placeholder=\"請輸入 Email\"\r\n              rules=\"email|required\"\r\n              v-model=\"form.user.email\"\r\n            ></FieldTemp>\r\n            <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"name\" class=\"form-label\">姓名\r\n              <span class=\"text-danger\">*</span>\r\n            </label>\r\n            <FieldTemp\r\n              id=\"name\"\r\n              name=\"姓名\"\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n              placeholder=\"請輸入姓名\"\r\n              rules=\"required\"\r\n              v-model=\"form.user.name\"\r\n            ></FieldTemp>\r\n            <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"tel\" class=\"form-label\">電話\r\n              <span class=\"text-danger\">*</span>\r\n            </label>\r\n            <FieldTemp\r\n              id=\"tel\"\r\n              name=\"電話\"\r\n              type=\"tel\"\r\n              class=\"form-control\"\r\n              :class=\"{ 'is-invalid': errors['電話'] }\"\r\n              placeholder=\"請輸入電話\"\r\n              rules=\"numeric|required|min:8|max:10\"\r\n              v-model=\"form.user.tel\"\r\n            ></FieldTemp>\r\n            <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"address\" class=\"form-label\">地址\r\n              <span class=\"text-danger\">*</span>\r\n            </label>\r\n            <FieldTemp\r\n              id=\"address\"\r\n              name=\"地址\"\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              :class=\"{ 'is-invalid': errors['地址'] }\"\r\n              placeholder=\"請輸入地址\"\r\n              rules=\"required\"\r\n              v-model=\"form.user.address\"\r\n            ></FieldTemp>\r\n            <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"message\" class=\"form-label\">留言</label>\r\n            <textarea id=\"message\" class=\"form-control\" cols=\"15\" rows=\"5\"\r\n            v-model=\"form.message\"></textarea>\r\n          </div>\r\n          <div class=\"text-center text-md-end\">\r\n            <button\r\n              class=\"btn btn-outline-secondary me-2\"\r\n              @click=\"backToPreviousPage\">\r\n              回上一頁\r\n            </button>\r\n            <button :disabled=\"Object.keys(errors).length > 0|| carts.carts?.length === 0\"\r\n              class=\"btn btn-primary\"\r\n              type=\"submit\"\r\n              @click=\"validate\">\r\n              <div v-if=\"isLoading === true\">\r\n              <span class=\"spinner-border spinner-border-sm fs-5 me-2\" role=\"status\"></span>\r\n              <span>請稍後...</span>\r\n            </div>\r\n            <span v-else>送出訂單</span>\r\n            </button>\r\n          </div>\r\n        </FormTemp>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter.js'\r\nimport CartList from '@/components/CartList.vue'\r\nexport default {\r\n  components: {\r\n    CartList\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: '',\r\n      carts: [],\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      couponCode: '',\r\n      couponMassage: '',\r\n      newFinalTotal: 0\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit () {\r\n      this.isLoading = true\r\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`,\r\n        { data: this.form }\r\n      )\r\n        .then(res => {\r\n          emitter.emit('get-cart')\r\n          const orderId = res.data.orderId\r\n          this.$router.push(`/payment/${orderId}`)\r\n          this.isLoading = ''\r\n        })\r\n        .catch(err => {\r\n          alert(err)\r\n          this.isLoading = ''\r\n        })\r\n    },\r\n    getCarts () {\r\n      emitter.emit('page-loading', true)\r\n      this.isLoading = true\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then(res => {\r\n          this.carts = res.data.data\r\n          this.isLoading = ''\r\n          emitter.emit('page-loading', false)\r\n        })\r\n        .catch(err => {\r\n          alert(err)\r\n          this.isLoading = ''\r\n          emitter.emit('page-loading', false)\r\n        })\r\n    },\r\n    backToPreviousPage () {\r\n      this.$router.back(-1)\r\n    },\r\n    submitCouponCode () {\r\n      this.isLoading = true\r\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`,\r\n        {\r\n          data: {\r\n            code: this.couponCode\r\n          }\r\n        }\r\n      )\r\n        .then(res => {\r\n          this.newFinalTotal = res.data.data.final_total\r\n          this.couponMassage = res.data.message\r\n          emitter.emit('get-cart')\r\n          this.getCarts()\r\n          this.isLoading = ''\r\n        })\r\n        .catch(err => {\r\n          this.$httpMessageState(err.response, '輸入優惠券')\r\n          this.isLoading = ''\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    window.scroll(0, 0)\r\n    this.getCarts()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <h4 class=\"text-center mb-4  text-secondary fw-bolder\">訂單內容</h4>\r\n  <table class=\"table\">\r\n    <thead class=\"text-secondary\">\r\n      <tr>\r\n        <th>#</th>\r\n        <th>品名</th>\r\n        <th>數量</th>\r\n        <th>售價</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody class=\"text-secondary\">\r\n      <tr v-for=\"(item, keys) in carts.carts\" :key=\"item\">\r\n        <th>{{ keys + 1 }}</th>\r\n        <td>\r\n          <router-link :to=\"`/product/${item.product.id}`\" class=\"mb-0\">\r\n            {{ item.product.title }}\r\n          </router-link>\r\n        </td>\r\n        <td>\r\n          <div class=\"d-flex\">\r\n            <p class=\"pt-1 m-0\">{{ item.qty }}{{ item.product.unit }}</p>\r\n          </div>\r\n        </td>\r\n        <td>{{ item.total }}</td>\r\n      </tr>\r\n    </tbody>\r\n    <tfoot class=\"text-secondary\">\r\n      <tr>\r\n        <td colspan=\"3\" class=\"text-end\">小計</td>\r\n        <td class=\"text-end\">{{ carts.total }}</td>\r\n      </tr>\r\n      <tr v-if=\" carts.total - carts.final_total !== 0\">\r\n        <td colspan=\"3\" class=\"text-end\">折扣</td>\r\n        <td class=\"text-end\">{{ carts.total - carts.final_total }}</td>\r\n      </tr>\r\n      <tr>\r\n        <td colspan=\"3\" class=\"text-end\">總計</td>\r\n        <td class=\"text-end\">{{ carts.final_total }}</td>\r\n      </tr>\r\n    </tfoot>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      carts: [],\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getCarts () {\r\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then(res => {\r\n          this.carts = res.data.data\r\n        })\r\n        .catch(err => {\r\n          alert(err)\r\n        })\r\n    }\r\n  },\r\n  props: ['newFinalTotal'],\r\n  watch: {\r\n    newFinalTotal () {\r\n      this.carts.final_total = this.newFinalTotal\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCarts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CartList.vue?vue&type=template&id=fcbdce92\"\nimport script from \"./CartList.vue?vue&type=script&lang=js\"\nexport * from \"./CartList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue-week8\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrderView.vue?vue&type=template&id=fec6a83a\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue-week8\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","role","_hoisted_7","_hoisted_8","for","_hoisted_28","_hoisted_29","_createElementBlock","_createVNode","_component_CartList","$data","_hoisted_4","type","placeholder","$event","id","onClick","$options","_hoisted_6","_hoisted_9","_hoisted_10","_toDisplayString","_hoisted_13","_hoisted_14","_component_FormTemp","onSubmit","errors","validate","_hoisted_16","_component_FieldTemp","name","rules","user","email","_component_error_message","_hoisted_18","_hoisted_20","tel","_hoisted_22","address","_hoisted_24","cols","rows","message","disabled","Object","keys","length","carts","_hoisted_27","_hoisted_30","_hoisted_31","colspan","_hoisted_1","_hoisted_3","_Fragment","_renderList","item","key","_component_router_link","to","product","title","qty","unit","total","final_total","_hoisted_11","data","form","methods","getCarts","this","$http","get","then","res","catch","err","alert","props","watch","newFinalTotal","mounted","__exports__","components","CartList","isLoading","couponCode","couponMassage","post","emitter","orderId","$router","push","backToPreviousPage","back","submitCouponCode","code","$httpMessageState","response","window","scroll","render"],"sourceRoot":""}