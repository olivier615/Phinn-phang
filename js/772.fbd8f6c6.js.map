{"version":3,"file":"js/772.fbd8f6c6.js","mappings":"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","sources":["webpack://week8/./src/components/PageView.vue","webpack://week8/./src/components/PageView.vue?6380","webpack://week8/./src/views/Admin/AdminOrders.vue","webpack://week8/./src/components/DeleteOrder.vue","webpack://week8/./src/components/DeleteOrder.vue?3f6b","webpack://week8/./src/views/Admin/AdminOrders.vue?8e2c"],"sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination\">\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          @click.prevent=\"$emit('getProducts', pages.current_page - 1)\"\r\n          >上一頁</a\r\n        >\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        v-for=\"page in pages.total_pages\"\r\n        :key=\"'page' + page\"\r\n        :class=\"{active: page === pages.current_page}\"\r\n      >\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"$emit('getProducts', page)\">\r\n          {{page}}\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          @click.prevent=\"$emit('getProducts', pages.current_page + 1)\"\r\n          >下一頁</a\r\n        >\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: ['pages']\r\n}\r\n</script>\r\n","import { render } from \"./PageView.vue?vue&type=template&id=5d03949f\"\nimport script from \"./PageView.vue?vue&type=script&lang=js\"\nexport * from \"./PageView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue-week8\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<Loading :active=\"isLoading\" :z-index=\"1060\" />\r\n  <h2>後台-訂單列表</h2>\r\n  <div class=\"container\">\r\n      <table class=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>訂單編號</th>\r\n            <th>訂購者</th>\r\n            <th>金額</th>\r\n            <th>支付狀態</th>\r\n            <th>編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"order in orders\" :key=\"order.id\">\r\n            <td>\r\n              {{order.id}}\r\n            </td>\r\n            <td>{{ order.user.name }}</td>\r\n            <td>{{ order.total }}</td>\r\n            <td>\r\n              <span v-if=\"order.is_paid\" class=\"badge bg-primary\">已支付</span>\r\n              <span v-else class=\"badge bg-dark\">未付款</span>\r\n            </td>\r\n            <td>\r\n              <div class=\"btn-group\">\r\n                <router-link class=\"btn btn-outline-primary btn-sm\"\r\n                :to=\"`/admin/order/${order.id}`\">\r\n                  編輯訂單\r\n                </router-link>\r\n                <button class=\"btn btn-danger btn-sm\"\r\n                @click=\"OpenDeleteOrderModal(order)\">\r\n                  刪除\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <!-- 分頁元件 -->\r\n    <pagination :pages=\"pagination\" @getProducts=\"getOrders\" />\r\n    <deleteOrder\r\n      :order=\"order\"\r\n      ref=\"delOrderModal\"\r\n      @update=\"getOrders(pagination.current_page)\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pagination from '@/components/PageView.vue'\r\nimport deleteOrder from '@/components/DeleteOrder.vue'\r\nexport default {\r\n  components: {\r\n    pagination,\r\n    deleteOrder\r\n  },\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      orders: [],\r\n      pagination: {},\r\n      order: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getOrders (page = 1) {\r\n      this.isLoading = true\r\n      this.$http\r\n        .get(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders/?page=${page}`\r\n        )\r\n        .then((res) => {\r\n          this.orders = res.data.orders\r\n          this.pagination = res.data.pagination\r\n          this.isLoading = false\r\n        })\r\n        .catch(\r\n          this.isLoading = false\r\n        )\r\n    },\r\n    OpenDeleteOrderModal (order) {\r\n      this.order = order\r\n      this.$refs.delOrderModal.openModal()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n    id=\"delOrderModal\"\r\n    ref=\"modal\"\r\n    class=\"modal fade\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"delProductModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 id=\"delOrderModalLabel\" class=\"modal-title\">\r\n            <span>刪除訂單</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>訂單編號：{{ order.id }}</p>\r\n          <p>訂購者：{{ order.user.name }}</p>\r\n          <div>\r\n            <span>支付狀態：</span>\r\n            <span v-if=\"order.is_paid\" class=\"badge bg-primary\">已支付</span>\r\n            <span v-else class=\"badge bg-dark\">未付款</span>\r\n          </div>\r\n          <p class=\"text-center\">\r\n            <strong class=\"text-danger\">(訂單刪除後將無法恢復)。</strong>\r\n          </p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-danger\"\r\n          @click=\"deleteOrder\">\r\n            確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  data () {\r\n    return {\r\n      modal: ''\r\n    }\r\n  },\r\n  props: ['order'],\r\n  methods: {\r\n    deleteOrder () {\r\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.order.id}`)\r\n        .then(res => {\r\n          alert(res.data.message)\r\n          this.hideModal()\r\n          this.$emit('update')\r\n        })\r\n        .catch(err => {\r\n          alert(err.message)\r\n        })\r\n    },\r\n    openModal () {\r\n      this.modal.show()\r\n    },\r\n    hideModal () {\r\n      this.modal.hide()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.modal, {\r\n      keyboard: false,\r\n      backdrop: 'static'\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./DeleteOrder.vue?vue&type=template&id=1de5d338\"\nimport script from \"./DeleteOrder.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteOrder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue-week8\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminOrders.vue?vue&type=template&id=3bf361a4\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue-week8\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","disabled","$props","has_pre","href","onClick","_ctx","current_page","_Fragment","_renderList","total_pages","page","active","key","_hoisted_3","has_next","props","__exports__","render","_createVNode","_component_Loading","$data","_hoisted_1","_hoisted_4","order","id","_toDisplayString","user","name","total","is_paid","_component_router_link","to","$options","_hoisted_9","_component_pagination","pages","onGetProducts","_component_deleteOrder","ref","onUpdate","tabindex","type","_hoisted_6","_hoisted_11","data","modal","methods","deleteOrder","this","$http","delete","then","res","alert","message","hideModal","$emit","catch","err","openModal","show","hide","mounted","Modal","$refs","keyboard","backdrop","components","pagination","isLoading","orders","email","tel","address","getOrders","get","OpenDeleteOrderModal","delOrderModal"],"sourceRoot":""}